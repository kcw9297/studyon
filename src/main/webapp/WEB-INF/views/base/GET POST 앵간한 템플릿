addEventListener("DOMContentLoaded", async () => {

        //ì „ì—­ë³€ìˆ˜ ê´€ë¦¬
        const pathParts = window.location.pathname.split("/");
        const lectureId = pathParts[pathParts.length - 1];
        const submitBtn = document.getElementById("review-submit-Btn");
        console.log("ğŸ“˜ lectureId =", lectureId);

        //ìˆ˜ê°•í‰ ì½ê¸°
        const response = await fetch("/api/lectures/reviews" + lectureId);
        const json = await response.json();
        const lecture = json.data;
        console.log(lecture);

        //ìˆ˜ê°•í‰ ë“±ë¡
        submitBtn.addEventListener("click", async () => {
            try {
                const reviewRate = document.getElementById("review-rate");
                const reviewContent = document.getElementById("review-content");

                document.getElementById("review")
                const formData = new FormData();
                formData.append("lectureId", lectureId);
                formData.append("rating",reviewRate );
                formData.append("content", reviewContent);

                const res = await fetch("/api/lectures/reviews/create", {
                    method: "POST",
                    body: formData
                });

                if (res.ok) {
                    const data = await res.json();
                    console.log("ë“±ë¡ ì„±ê³µ:", data);
                    alert("ìˆ˜ê°•í‰ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");
                    location.reload();
                } else {
                    console.error("ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜:", res.status);
                    alert("ê°•ì˜ ë“±ë¡ ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
                }
            } catch (err) {
                console.error("ê°•ì˜ ë“±ë¡ ì¤‘ ì˜¤ë¥˜:", err);
                alert("ê°•ì˜ ë“±ë¡ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
            }
        })
    });